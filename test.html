<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Tournament Bracket</title>
  <style>
body {
  background-color: DarkSalmon;
}

.wrapper {
  display: flex;
  height: auto;
  justify-content: center;
}

.item {
  display: flex;
  flex-direction: row-reverse;
}
.item p {
  padding: 10px 20px;
  margin: 0;
  background-color: Beige;
  border: 1px solid #333;
  display: flex;
  align-items: center;
  gap: 10px;
  min-height: 40px;
}

.team-image {
  width: 30px;
  height: 30px;
  border-radius: 50%;
  object-fit: cover;
  border: 2px solid #333;
}

.team-name {
  flex: 1;
  text-align: left;
}
.team-info {
  display: flex;
  align-items: center;
  gap: 8px;
}
.team-image {
  width: 30px;
  height: 30px;
  border-radius: 50%;
  object-fit: cover;
  border: 2px solid #333;
}
.team-name {
  font-weight: bold;
}
.item-parent {
  position: relative;
  margin-left: 50px;
  display: flex;
  align-items: center;
}
.item-parent:after {
  position: absolute;
  content: "";
  width: 25px;
  height: 2px;
  left: 0;
  top: 50%;
  background-color: #fff;
  transform: translateX(-100%);
}
.leaf .item-parent:after {
  display: none;
}
.item-childrens {
  display: flex;
  flex-direction: column;
  justify-content: center;
}
.item-child {
  display: flex;
  align-items: flex-start;
  justify-content: flex-end;
  margin-top: 10px;
  margin-bottom: 10px;
  position: relative;
}
.item-child:before {
  content: "";
  position: absolute;
  background-color: #fff;
  right: 0;
  top: 50%;
  transform: translateX(100%);
  width: 25px;
  height: 2px;
}
.item-child:after {
  content: "";
  position: absolute;
  background-color: #fff;
  right: -25px;
  height: calc(50% + 22px);
  width: 2px;
  top: 50%;
}
.item-child:last-child:after {
  transform: translateY(-100%);
}
.item-child:only-child:after {
  display: none;
}
  </style>
</head>
<body>
  <div style="text-align: center; margin: 20px;">
    <h2>Tournament Bracket</h2>
  </div>
  <div id="tournamentInfo" style="text-align: center; margin: 20px;"></div>
  <div id="bracket" class="wrapper"></div>

  <script>
    // Example tournament data
    const exampleTournamentData = {
      tournament: {
        name: "Championship Tournament 2025",
        teams: [
          {
            id: 1,
            name: "Team Alpha",
            image: "https://via.placeholder.com/60/FF5733/FFFFFF?text=A"
          },
          {
            id: 2,
            name: "Team Beta",
            image: "https://via.placeholder.com/60/33FF57/FFFFFF?text=B"
          },
          {
            id: 3,
            name: "Team Gamma",
            image: "https://via.placeholder.com/60/3357FF/FFFFFF?text=G"
          },
          {
            id: 4,
            name: "Team Delta",
            image: "https://via.placeholder.com/60/FF33F5/FFFFFF?text=D"
          },
          {
            id: 5,
            name: "Team Epsilon",
            image: "https://via.placeholder.com/60/FFB533/FFFFFF?text=E"
          },
          {
            id: 6,
            name: "Team Zeta",
            image: "https://via.placeholder.com/60/33FFB5/FFFFFF?text=Z"
          },
          {
            id: 7,
            name: "Team Eta",
            image: "https://via.placeholder.com/60/B533FF/FFFFFF?text=H"
          },
          {
            id: 8,
            name: "Team Theta",
            image: "https://via.placeholder.com/60/FF3333/FFFFFF?text=T"
          },
        {
            id: 8,
            name: "Team Winner",
            image: "https://via.placeholder.com/60/FF3333/FFFFFF?text=T"
          }
        ]
      }
    };

    function buildBracket(teams) {
      function buildRound(participants) {
        if (participants.length === 1) {
          return `<div class="item leaf">
                    <div class="item-parent">
                      <p>
                        <img src="${participants[0].image}" alt="${participants[0].name}" class="team-image" onerror="this.style.display='none'">
                        <span class="team-name">${participants[0].name}</span>
                      </p>
                    </div>
                  </div>`;
        }

        if (participants.length === 2) {
          return `<div class="item">
                    <div class="item-parent"><p>VS</p></div>
                    <div class="item-childrens">
                      <div class="item-child">${buildRound([participants[0]])}</div>
                      <div class="item-child">${buildRound([participants[1]])}</div>
                    </div>
                  </div>`;
        }

        // For more than 2 participants, split unevenly if needed
        const mid = Math.ceil(participants.length / 2);
        const left = buildRound(participants.slice(0, mid));
        const right = buildRound(participants.slice(mid));

        return `<div class="item">
                  <div class="item-parent"><p>Match</p></div>
                  <div class="item-childrens">
                    <div class="item-child">${left}</div>
                    <div class="item-child">${right}</div>
                  </div>
                </div>`;
      }

      return buildRound(teams);
    }

    function generateTournament() {
      const tournamentInfo = document.getElementById("tournamentInfo");
      const bracketContainer = document.getElementById("bracket");
      
      // Display tournament info
      tournamentInfo.innerHTML = `<h3>${exampleTournamentData.tournament.name}</h3>
                                  <p>Teams: ${exampleTournamentData.tournament.teams.length}</p>`;
      
      // Generate bracket
      bracketContainer.innerHTML = buildBracket(exampleTournamentData.tournament.teams);
    }

    // Initialize when page loads
    document.addEventListener('DOMContentLoaded', function() {
      // Generate bracket automatically on page load
      generateTournament();
    });
  </script>
</body>
</html>
